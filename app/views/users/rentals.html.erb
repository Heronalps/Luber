<% provide(:title, "My Rentals") %>
<% provide(:path, @view_renderer.lookup_context.find_template(@virtual_path).identifier.to_s) %>

<%= render 'users/banner' %>
<% if session[:user_id] == @user.id %>
  <%= render 'users/nav' %>
<% end %>
<section class="container m-top card-wrapper">
  <% if @owner_rentals_count == 0 %>
    <div class="text-center">
      <p class="font-italic">Looks like you haven't rented out your car to anyone yet.</p>
      <p>Wanna see your ride in a high-speed chase on the nightly news?</p>
      <%= link_to 'Post a new Rental today!', new_rental_path, class: 'btn btn-base', role: 'button' %>
    </div>
  <% end %>
  <% if @owner_rentals_count + @renter_rentals_count == 0 %>
    <hr>
  <% end %>
  <% if @renter_rentals_count == 0 %>
    <div class="text-center">
      <p class="font-italic">Looks like you haven't rented anyone else's car yet.</p>
      <p>Wanna go on an adventure with little to no regard for the safety of your ride's paint?</p>
      <%= link_to 'Rent a Car today!', rentals_path, class: 'btn btn-base', role: 'button' %>
    </div>
  <% end %>
  <%= render @rentals, owners: @owners, renters: @renters, cars: @cars %>
  <% if @rentals.length > 0 %>
    <div class="text-right">
      <%= link_to 'Post a new Rental', new_rental_path, class: 'btn btn-base', role: 'button' %>
      <%= link_to 'Rent a Car', rentals_path, class: 'btn btn-base', role: 'button' %>
    </div>
  <% end %>
</section>